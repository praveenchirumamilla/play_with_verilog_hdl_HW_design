module top_module (
    input clk,
    input resetn,   // synchronous reset
    input in,
    output out);
    
    reg in1, in2, in3;
    reg [3:0] out_next;
    
   /* always @(posedge clk) begin
        if(~resetn) begin
            out <= 1'b0; 
            in3 <= 1'b0;
            in2 <= 1'b0;
            in1 <= 1'b0;
        end else begin
            out <= in3;
            in3 <= in2;
            in2 <= in1;
            in1 <= in;
        end
    end */
    
    always @(posedge clk) begin
        if(~ resetn) begin
            out_next <= 4'b0;
        end else begin
            out_next <= {out[2:0], in};
    	end
    end
    
    assign out = out_next[3];

endmodule
